---
layout: layout
---

<% if !defined?(series_name) || !series_name %>
  <div class="page-container">
    <header class="page-header">
      <h1 class="page-title">Series Not Found</h1>
      <p class="page-description">No series specified. Please visit the <a href="/series">Series Index</a> to browse all available series.</p>
    </header>
    <footer class="page-footer">
      <div class="page-navigation">
        <%= link_to '← Back to All Series', '/series', class: 'button button--secondary' %>
        <%= link_to '← Back to Blog', '/', class: 'button button--secondary' %>
      </div>
    </footer>
  </div>
<% else %>
<% series_metadata = get_series_metadata(series_name) %>
<div class="page-container">
  <header class="page-header">
    <h1 class="page-title">
      <% if series_metadata && series_metadata[:icon] %>
        <span class="series-icon"><%= series_metadata[:icon] %></span>
      <% end %>
      <%= series_name %>
    </h1>
    
    <% if series_metadata && series_metadata[:description] %>
      <div class="page-description">
        <p><%= series_metadata[:description] %></p>
      </div>
    <% elsif defined?(series_description) && series_description %>
      <div class="page-description">
        <p><%= series_description %></p>
      </div>
    <% end %>
    
    <div class="page-meta">
      <span class="meta-item"><%= series_articles(series_name).length %> posts</span>
      <% if series_metadata && series_metadata[:status] %>
        <span class="meta-item"><%= series_metadata[:status] %></span>
      <% elsif defined?(series_status) && series_status %>
        <span class="meta-item"><%= series_status %></span>
      <% end %>
    </div>
  </header>

  <div class="page-content">
    <div class="card-stack">
      <% series_articles(series_name).sort_by(&:date).each_with_index do |article, index| %>
        <div class="series-post-wrapper">
          <div class="series-post-meta">
            <span class="series-post-number">Part <%= index + 1 %></span>
          </div>
          <%= partial 'layouts/_blog_card', locals: { article: article } %>
        </div>
      <% end %>
    </div>
  </div>
  
  <footer class="page-footer">
    <div class="page-navigation">
      <%= link_to '← Back to All Series', '/series', class: 'button button--secondary' %>
      <%= link_to '← Back to Blog', '/', class: 'button button--secondary' %>
    </div>
  </footer>
</div>
<% end %> 